var cards = [{ "name": "ar00", "title": "THE FOOL", "p1": "Folly, mania, extravagance, intoxication, delirium, frenzy, bewrayment.", "p2": "Negligence, absence, distribution, carelessness, apathy, nullity, vanity." }, { "name": "ar01", "title": "THE MAGICIAN", "p1": "Skill, diplomacy, address, sickness, pain, loss, disaster, self-confidence, will, the Querent himself (if male).", "p2": "Physician, Magus, mental illness, disgrace, disquiet." }, { "name": "ar02", "title": "THE HIGH PRIESTESS", "p1": "Secrets, mystery, the future as yet unrevealed, the woman who interests the Querent (if male); the Querent (if female) silence, tenacity; wisdom, science.", "p2": "Passion, moral or physical ardor, conceit, surface knowledge." }, { "name": "ar03", "title": "THE EMPRESS", "p1": "Fruitfulness, initiative, action, long days, clandestine, the unknown, difficulty, doubt, ignorance.", "p2": "Light, truth, the unraveling of involved matters, public rejoice, also, according to another reading—vacillation." }, { "name": "ar04", "title": "THE EMPEROR", "p1": "Stability, power, aid, protection, a great person, conviction, reason.", "p2": "Benevolence, compassion, credit, also confusion to enemies, obstruction, immaturity." }, { "name": "ar05", "title": "THE HIEROPHANT", "p1": "Marriage alliance, captivity, servitude, mercy and goodness, inspiration, the man to whom the Querent has recourse.", "p2": "Society, good understanding, concord, over-kindness, weakness." }, { "name": "ar06", "title": "THE LOVERS", "p1": "Attraction, love, beauty, trials overcome.", "p2": "Failure, foolish designs." }, { "name": "ar07", "title": "THE CHARIOT", "p1": "Succor, providence, also war, triumph, presumption, vengeance, trouble.", "p2": "Riot, quarrel, dispute, litigation, defeat." }, { "name": "ar08", "title": "STRENGTH", "p1": "Power, energy, action, courage, magnanimity.", "p2": "Abuse of power, despotism, weakness, discord." }, { "name": "ar09", "title": "THE HERMIT", "p1": "Prudence, also and especially treason, dissimulation, corruption, roguery.", "p2": "Concealment, disguise, policy, fear, unreasoned caution." }, { "name": "ar10", "title": "WHEEL OF FORTUNE", "p1": "Destiny, fortune, success, luck, felicity.", "p2": "Increase, abundance, superfluity." }, { "name": "ar11", "title": "JUSTICE", "p1": "Equity, rightness, probity, executive.", "p2": "Law in all departments, bigotry, bias, excessive severity." }, { "name": "ar12", "title": "THE HANGED MAN", "p1": "Wisdom, trials, circumspection, discernment, sacrifice, intuition, divination, prophecy.", "p2": "Selfishness, the crowd, body politic." }, { "name": "ar13", "title": "DEATH", "p1": "End, mortality, destruction, corruption.", "p2": "Inertia, sleep, lethargy, petrifaction, somnambulism." }, { "name": "ar14", "title": "TEMPERANCE", "p1": "Economy, moderation, frugality, management, accommodation.", "p2": "Things connected with churches, religions, sects, the priesthood, also unfortunate combinations, disunion, competing interests." }, { "name": "ar15", "title": "THE DEVIL", "p1": "Ravage, violence, force, vehemence, extraordinary efforts, fatality, that which is predestined but not for this reason evil.", "p2": "Evil fatality, weakness, pettiness, blindness." }, { "name": "ar16", "title": "THE TOWER", "p1": "Misery, distress, ruin, indigence, adversity, calamity, disgrace, deception.", "p2": "According to one account, the same in a lesser degree, also oppression, imprisonment, tyranny." }, { "name": "ar17", "title": "THE STAR", "p1": "Loss, theft, privation, abandonment, although another reading suggests hope and bright prospects in the future.", "p2": "Arrogance, impotence, haughtiness." }, { "name": "ar18", "title": "THE MOON", "p1": "Hidden enemies, danger, calumny, darkness, terror, deception, error.", "p2": "Instability, inconstancy, silence, lesser degrees of deception and error." }, { "name": "ar19", "title": "THE SUN", "p1": "Material happiness, fortunate marriage, contentment.", "p2": "The same in a lesser sense." }, { "name": "ar20", "title": "THE LAST JUDGMENT", "p1": "Change of position, renewal, outcome.", "p2": "Weakness, 13 pusillanimity, simplicity, also deliberation, decision, sentence." }, { "name": "ar21", "title": "THE WORLD", "p1": "Assured success, route, voyage, emigration, flight, change of place.", "p2": "Inertia, fixity, stagnation, permanence." }, { "name": "cu02", "title": "TWO of Cups", "p1": "unity, partnership, attraction, connection, close bonds, joining forces, mutual respect", "p2": "separation, rejection, division, imbalance, tension, bad communication, withdrawal" }, { "name": "cu03", "title": "THREE of Cups", "p1": "The conclusion of any matter in plenty, perfection and merriment, happy issue, victory, fulfillment, solace, healing.", "p2": "Expedition, dispatch, achievement, end." }, { "name": "cu04", "title": "FOUR of Cups", "p1": "Weariness, disgust, aversion, imaginary vexations—as if the wine of this world had caused satiety only. Another wine, as if a fairy gift, is now offered him, but he sees no consolation therein. This is also a card of blended pleasure.", "p2": "Novelty, presage, new instruction, new relations." }, { "name": "cu05", "title": "FIVE of Cups", "p1": "It is a card of loss, but something remains over, three have been taken, but two are left. It is a card of inheritance, transmission, and patrimony, but not corresponding to expectations. With some it is a card of marriage, but not without bitterness or frustration.", "p2": "News, alliances, affinity, consanguinity, ancestry, return, false projects." }, { "name": "cu06", "title": "SIX of Cups", "p1": "A card of memories and of the past. For example, reflecting on childhood, happiness, enjoyment, but 22 coming rather from the past, things that have vanished. Another reading reverses this, giving new relations, new knowledge, new environment, and then the children are disporting in a newly-entered precinct.", "p2": "The future, renewal, that which will come to pass presently." }, { "name": "cu07", "title": "SEVEN of Cups", "p1": "Fairy favors, images of reflection, imagination, sentiment, things seen in the glass of contemplation, some attainment in these degrees but nothing permanent or substantial is suggested.", "p2": "Desire, will, determination, project." }, { "name": "cu08", "title": "EIGHT of Cups", "p1": "The card speaks for itself on the surface, but other readings are entirely antithetical—giving joy, mildness, timidity, honor, modesty.", "p2": "Great joy, happiness, feasting." }, { "name": "cu09", "title": "NINE of Cups", "p1": "Concord, contentment, physical bien-être; also victory, success, advantage, satisfaction for the Querent or person for whom the consultation is made.", "p2": "Truth, loyalty, liberty. But the readings vary and include mistakes, imperfections, etc." }, { "name": "cu10", "title": "TEN of Cups", "p1": "Contentment, repose of the entire heart—the perfection of that state, if with several picture cards, a person who is taking charge of the 21 Querent’s interests. Also the town, village or country inhabited by the Querent.", "p2": "Repose of the false heart, indignation, violence." }, { "name": "cuac", "title": "ACE of Cups", "p1": "True heart, joy, content, abode, nourishment, abundance, fertility, holy table, felicity hereof.", "p2": "False heart, mutation, instability, revolution." }, { "name": "cuki", "title": "KING of Cups", "p1": "Fair man, man of business, law, or divinity, responsible, disposed to oblige the Querent. Also equity, art and science, including those who profess science, law and art, creative intelligence.", "p2": "Dishonest, double-dealing man, roguery, exaction, injustice, vice, scandal." }, { "name": "cukn", "title": "KNIGHT of Cups", "p1": "Arrival, approach—sometimes that of a messenger, advances, proposition, demeanor, invitation, incitement.", "p2": "Trickery, artifice, subtlety, swindling, duplicity, fraud." }, { "name": "cupa", "title": "PAGE of Cups", "p1": "Fair young man, one impelled to render service and with whom the Querent will be connected, a studious youth, news, message, application, reflection, meditation—also these things directed to business.", "p2": "Taste, inclination, attachment, seduction, deception, artifice." }, { "name": "cuqu", "title": "QUEEN of Cups", "p1": "Good, fair woman, honest, devoted, who will do service to the Querent. Loving intelligence, and hence the gift of vision, success, happiness, pleasure, also wisdom, virtue.", "p2": "The accounts vary; good woman, otherwise, distinguished woman but one not to be trusted, perverse woman, vice, dishonor, depravity." }, { "name": "pe02", "title": "TWO of Pentacles", "p1": "It is represented as a card of gaiety, recreation and its connections, which is the subject of the design. But it is read also as news and messages in writing, such as obstacles, agitation, trouble, embroilment.", "p2": "Enforced gaiety, simulated enjoyment, literal sense, handwriting, composition, letters of exchange." }, { "name": "pe03", "title": "THREE of Pentacles", "p1": "Métier, trade, skilled labor. Usually, however, regarded as a card of nobility, aristocracy, renown, glory.", "p2": "Mediocrity in work and otherwise, puerility, pettiness, weakness." }, { "name": "pe04", "title": "FOUR of Pentacles", "p1": "The surety of possessions, cleaving to that which one has, gifts, legacy, inheritance.", "p2": "Suspense, delay, opposition." }, { "name": "pe05", "title": "FIVE of Pentacles", "p1": "It foretells material trouble above all, whether in the form illustrated, that is, destitution, or otherwise. For some cartomancists, it is a card of love and lovers—wife, husband, friend, mistress— also concordance, affinities. These alternatives cannot be harmonized.", "p2": "Disorder, chaos, ruin, discord, profligacy." }, { "name": "pe06", "title": "SIX of Pentacles", "p1": "Presents, gifts, gratification. Another account says attention, vigilance, now is the accepted time, present prosperity, etc.", "p2": "Desire, cupidity, envy, jealousy, illusion." }, { "name": "pe07", "title": "SEVEN of Pentacles", "p1": "These are exceedingly contradictory, in the main, it is a card of money, business, barter—but one reading gives altercation, quarrel, and another innocence, ingenuity, purgation.", "p2": "Anxiety about money." }, { "name": "pe08", "title": "EIGHT of Pentacles", "p1": "Work, employment, commission, craftsmanship, skill in craft and busi- 29 ness.", "p2": "Voided ambition, vanity, cupidity, exaction, usury." }, { "name": "pe09", "title": "NINE of Pentacles", "p1": "Prudence, safety, success, accomplishment, certitude, discernment.", "p2": "Roguery, deception, voided project, bad faith." }, { "name": "pe10", "title": "TEN of Pentacles", "p1": "Gain, riches, family matters, archives, extraction, the abode of a family.", "p2": "Chance, fatality, loss, robbery, games of hazard; sometimes gift, dowry, pension." }, { "name": "peac", "title": "ACE OF Pentacles", "p1": "Perfect contentment, felicity, ecstasy—also speedy intelligence, gold.", "p2": "The evil side of wealth, bad intelligence. Also great riches." }, { "name": "peki", "title": "KING of Pentacles", "p1": "Valor, realizing intelligence, business and normal intellectual aptitude, sometimes mathematical gifts and attainments of this kind—success in these paths.", "p2": "Vice, weakness, ugliness, perversity, corruption, peril." }, { "name": "pekn", "title": "KNIGHT of Pentacles", "p1": "Utility, serviceableness, interest, rectitude, responsibility.", "p2": "Inertia, idleness, repose of that kind, stagnation—also discouragement, carelessness." }, { "name": "pepa", "title": "PAGE of Pentacles", "p1": "Application, study scholarship, reflection. Another reading says news, messages and the bringer thereof—also rule, management.", "p2": "Prodigality, dissipation, liberality, luxury, unfavorable news." }, { "name": "pequ", "title": "QUEEN of Pentacles", "p1": "Divinatory Meanings: Opulence, generosity, security, magnificence, liberty.", "p2": "Evil, fear, suspicion, suspense, mistrust." }, { "name": "sw02", "title": "TWO of Swords", "p1": "Conformity and the equipoise which it suggests, courage, friendship, affection, concord in a state of arms, intimacy.", "p2": "Imposture, falsehood, duplicity, disloyalty." }, { "name": "sw03", "title": "THREE of Swords", "p1": "Removal, absence, delay, division, rupture, dispersion, and all that the design signifies naturally.", "p2": "Mental alienation, error, loss, distraction, disorder, confusion." }, { "name": "sw04", "title": "FOUR of Swords", "p1": "Vigilance, retreat, solitude, hermit’s repose, exile, tomb and coffin.", "p2": "Wise administration, circumspection, economy, avarice, precaution, testament." }, { "name": "sw05", "title": "FIVE of Swords", "p1": "Degradation, destruction, reversal, infamy, dishonor, loss.", "p2": "The same—burial and obsequies." }, { "name": "sw06", "title": "SIX of Swords", "p1": "Journey by water, route, way, envoy, commissionary, expedient.", "p2": "Declaration, confession, publicity. One account says that it is a proposal of love." }, { "name": "sw07", "title": "SEVEN of Swords", "p1": "Design, attempt, wish, hope, confidence—also quarrelling. A plan that may fail, annoyance.", "p2": "Good advice, counsel, instruction, slander, babbling." }, { "name": "sw08", "title": "EIGHT of Swords", "p1": "Bad news, violent chagrin, crisis, censure, power in trammels, conflict, calumny—also sickness.", "p2": "Disquiet, difficulty, opposition, accident, treachery, the unforeseen, fatality." }, { "name": "sw09", "title": "NINE of Swords", "p1": "Death, failure, miscarriage, delay, deception, disappointment, despair.", "p2": "Imprisonment, doubt, suspicion, reasonable fear, shame." }, { "name": "sw10", "title": "TEN of Swords", "p1": "Whatsoever is intimated by the design—also pain, affliction, tears, sadness, desolation.", "p2": "Advantage, profit, success, favor, but none of these are permanent. Also power and authority." }, { "name": "swac", "title": "ACE of Swords", "p1": "Triumph, the excessive degree in everything, conquest, triumph of force. A card of great force, in love as well as in 27 hatred.", "p2": "The same meanings, but the results are disastrous; another account says—conception, childbirth, augmentation, multiplicity." }, { "name": "swki", "title": "KING of Swords", "p1": "Whatsoever arises out of the idea of judgment and all its connections—power, command, authority, militant intelligence, law, offices of the crown, and so forth.", "p2": "Cruelty, perversity, barbarity, perfidy, evil intention." }, { "name": "swkn", "title": "KNIGHT of Swords", "p1": "Skill, bravery, capacity, defense, address, enmity, wrath, war, destruction, opposition, resistance, ruin.", "p2": "Imprudence, incapacity, extravagance." }, { "name": "swpa", "title": "PAGE of Swords", "p1": "Authority, overseeing, secret service, vigilance, spying, examination, and the qualities thereto belonging.", "p2": "More evil side of these qualities, what is unforeseen, an unprepared state, sickness is also intimated." }, { "name": "swqu", "title": "QUEEN of Swords", "p1": "Widowhood, female sadness and embarrassment, absence, sterility, mourning, privation, separation.", "p2": "Malice, bigotry, artifice, prudery, deceit." }, { "name": "wa02", "title": "TWO of Wands", "p1": "Between the alternative readings there is no marriage possible, on the one hand, riches, fortune, magnificence. And on the other, physical suffering, disease, chagrin, sadness, mortification. The design gives one suggestion— here is a lord overlooking his dominion and alternately contemplating a globe. It looks like the malady, the mortification, the sadness of Alexander amidst the grandeur of this world’s wealth.", "p2": "Surprise, wonder, enchantment, emotion, trouble, fear." }, { "name": "wa03", "title": "THREE of Wands", "p1": "He symbolizes established strength, enterprise, effort, trade, discovery, commerce; those are his ships, bearing his merchandise, which are sailing over the sea.", "p2": "The end of troubles, suspension or end of adversity, disappointment, and toil." }, { "name": "wa04", "title": "FOUR of Wands", "p1": "They are for once almost on the surface—country life, repose, concord, harmony, prosperity, peace, and the perfected work of these.", "p2": "The meaning remains unaltered—increase, felicity, beauty, embellishment." }, { "name": "wa05", "title": "FIVE of Wands", "p1": "Imitation, for example, sham fight, the strenuous competition and struggle of the search after riches and fortune. Hence some attributions say that it is a card of gold, gain, opulence.", "p2": "Trickery, Contradiction, litigation, disputes." }, { "name": "wa06", "title": "SIX of Wands", "p1": "The card has been so designed that it can cover several significations. On the surface, it is a victor triumphing, but it is also great news, such as might be carried in state by the King’s courier. It is expectation crowned with its own desire, the crown of hope.", "p2": "Apprehension, fear— as of a victorious enemy at the gate, treachery, disloyalty, as of gates being opened to the enemy." }, { "name": "wa07", "title": "SEVEN of Wands", "p1": "It is a card of valor, for on the surface, six are attacking one, who has, however, the vantage position. On the intellectual plane, it signifies discussion, wordy strife, in business—negotiations, war of trade, barter, competition. It is further a card of success, for the combatant is on the top and his enemies may be unable to reach him.", "p2": "Perplexity, embarrassments, anxiety." }, { "name": "wa08", "title": "EIGHT of Wands", "p1": "Activity in undertakings, the path of such activity, swiftness, as that of an express messenger; great haste, great hope, speed towards an end which promises assured felicity; that which is on the move, also the arrows of love.", "p2": "Arrows of jealousy, internal dispute, stingings of conscience, quarrels." }, { "name": "wa09", "title": "NINE of Wands", "p1": "The card signifies strength in opposition. If attacked, he will meet the onslaught boldly. With this main significance there are all its possible adjuncts, including delay, suspension, adjournment.", "p2": "Obstacles, adversity, calamity." }, { "name": "wa10", "title": "TEN of Wands", "p1": "A card of many significances, and some of the readings cannot be harmonized. I set aside that which connects it with honor and good faith. It is oppression simply, but it is also fortune, gain, any kind of success of these things. It is also a card of false-seeming, disguise, perfidy. The place which the figure is approaching may suffer from the rods that he carries. Success is stultified if the Nine of Swords follows, and if it is a question of a lawsuit—there will be certain loss.", "p2": "Contrarieties, difficulties, intrigues, and their analogies." }, { "name": "waac", "title": "ACE of Wands", "p1": "Creation, invention, enterprise, the powers which 19 result in these, principle, beginning, source, birth, family, origin, the beginning of enterprises, according to another account—money, fortune, inheritance.", "p2": "Fall, decadence, ruin, perdition, to perish, also—clouded joy." }, { "name": "waki", "title": "KING of Wands", "p1": "Dark man, friendly, countryman, generally married, honest and conscientious.", "p2": "Good, but severe; austere, yet tolerant." }, { "name": "wakn", "title": "KNIGHT of Wands", "p1": "Departure, absence, flight, emigration. A dark young man, friendly. Change of residence.", "p2": "Rupture, division, interruption, discord." }, { "name": "wapa", "title": "PAGE of Wands", "p1": "Dark young man, faithful, a lover, an envoy, a postman. Beside a man, he will bear favorable testimony concerning him. He is a dangerous rival, if followed by the Page of Cups. Has the chief qualities of his suit.", "p2": "Anecdotes, announcements, evil news. Also indecision and the instability which usually accompanies it." }, { "name": "waqu", "title": "QUEEN of Wands", "p1": "A dark woman or a countrywoman, friendly, chaste, loving, honorable. If the card beside her signifies a man, she is well disposed towards him; if a woman, she is interested in the Querent. Also, love of money.", "p2": "Good, economical, obliging, serviceable. Also signifies opposition, jealousy, deceit, and infidelity." }]

/** Clears any active button styles. */
function clearActive() {
    document.getElementById("3").classList.remove("active");
    document.getElementById("5").classList.remove("active");
    document.getElementById("d").classList.remove("active");
}

/** Draws 3 random cards. */
function draw3() {
    clearActive();
    document.getElementById("3").classList.add("active");
    removeCards();
    document.getElementById("searchInput").style.setProperty("display", "none");
    rand = shuffle(cards);
    populateCards(rand.slice(0, 3)); 
}

/** Draws 5 random cards. */
function draw5() {
    clearActive();
    document.getElementById("5").classList.add("active");
    removeCards();
    document.getElementById("searchInput").style.setProperty("display", "none");
    rand = shuffle(cards);
    populateCards(rand.slice(0, 5));
}

/** Shows all cards. */
function dictionary() {
    clearActive();
    document.getElementById("d").classList.add("active");
    removeCards();
    document.getElementById("searchInput").style.removeProperty("display");
    document.getElementById("searchInput").style.setProperty("display", "inline-block");
    populateCards(cards, false);
}

/** Populates the cards on the page. */
function populateCards(cards, reversal=true) {
    for (var i = 0; i < cards.length; i++) {

        //<div class="flip-card">
        var flipCard = document.createElement("div");
        flipCard.classList.add("flip-card");
        document.getElementById("cards").appendChild(flipCard);

        //  <div class="flip-card-inner">
        var flipCardInner = document.createElement("div");
        flipCardInner.classList.add("flip-card-inner");
        flipCard.appendChild(flipCardInner);

        //    <div class="flip-card-front">
        var flipCardFront = document.createElement("div");
        flipCardFront.classList.add("flip-card-front");
        flipCardInner.appendChild(flipCardFront);

        //      <img src=".../ar00.jpg" alt="The Fool" style="width:300px;height:500px;">
        var flipCardImg = document.createElement("img");
        flipCardImg.alt = cards[i].title;
        flipCardImg.classList.add("flip-card-front-image");
        flipCardImg.src = "https://github.com/kirbycope/tarot-able/raw/main/img/cards/" + cards[i].name + ".jpg";
        if(reversal) {
            if (Math.random() < 0.5) {flipCardImg.classList.add("reversed");}
        }
        flipCardFront.appendChild(flipCardImg);

        //    <div class="flip-card-back">
        var flipCardBack = document.createElement("div");
        flipCardBack.classList.add("flip-card-back");
        flipCardInner.appendChild(flipCardBack);

        //      <h2>The Fool</h2>
        var flipCardh1 = document.createElement("h2");
        flipCardh1.innerHTML = cards[i].title;
        flipCardBack.appendChild(flipCardh1);

        //      <p>Lorem ipsum...</p>
        var flipCardp1 = document.createElement("p");
        flipCardp1.innerHTML = cards[i].p1;
        flipCardBack.appendChild(flipCardp1);

        //      <p>[If the card is] Reversed: Lorem ipsum...</p>
        var flipCardp2 = document.createElement("p");
        flipCardp2.innerHTML = "[If the card is] Reversed: " + cards[i].p2;
        flipCardBack.appendChild(flipCardp2);

    }
}

/** Removes all cards on the page. */
function removeCards() {
    document.getElementById("cards").replaceChildren();
}

function searchFilter() {
    var si = document.getElementById("searchInput");
    var filter = si.value.toUpperCase();
    if (filter == "") {
        removeCards();
        populateCards(cards, false);
    }
    else {
        if (filter == "1") {filter = "ONE";}
        if (filter == "2") {filter = "TWO";}
        if (filter == "3") {filter = "THREE";}
        if (filter == "4") {filter = "FOUR";}
        if (filter == "5") {filter = "FIVE";}
        if (filter == "6") {filter = "SIX";}
        if (filter == "7") {filter = "SEVEN";}
        if (filter == "8") {filter = "EIGHT";}
        if (filter == "9") {filter = "NINE";}
        if (filter == "10") {filter = "TEN";}
        var cardContainer = document.getElementById("cards");
        var flipCards = cardContainer.getElementsByClassName("flip-card");
        for (i = 0; i < flipCards.length; i++) {
            var h2 = flipCards[i].childNodes[0].childNodes[1].childNodes[0].innerHTML.toUpperCase();
            if (!h2.includes(filter)) {
                flipCards[i].style.setProperty("display", "none");
            } else {
                flipCards[i].style.removeProperty("display");
            }
        }
    }
}

/** Shuffles the given array. */
function shuffle(array) {
    let currentIndex = array.length, randomIndex;
    // While there remain elements to shuffle.
    while (currentIndex != 0) {
        // Pick a remaining element.
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex--;
        // And swap it with the current element.
        [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
    }
    return array;
}

// After the window has loaded...
window.onload = function () {
    draw3();
};
